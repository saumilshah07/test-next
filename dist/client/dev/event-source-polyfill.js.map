{"version":3,"sources":["../../../client/dev/event-source-polyfill.js"],"sourcesContent":["/* eslint-disable */\n// Improved version of https://github.com/Yaffle/EventSource/\n// Available under MIT License (MIT)\n// Only tries to support IE11 and nothing below\nvar document = window.document\nvar Response = window.Response\nvar TextDecoder = window.TextDecoder\nvar TextEncoder = window.TextEncoder\nvar AbortController = window.AbortController\n\nif (AbortController == undefined) {\n  AbortController = function () {\n    this.signal = null\n    this.abort = function () {}\n  }\n}\n\nfunction TextDecoderPolyfill() {\n  this.bitsNeeded = 0\n  this.codePoint = 0\n}\n\nTextDecoderPolyfill.prototype.decode = function (octets) {\n  function valid(codePoint, shift, octetsCount) {\n    if (octetsCount === 1) {\n      return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07ff\n    }\n    if (octetsCount === 2) {\n      return (\n        (codePoint >= 0x0800 >> shift && codePoint << shift <= 0xd7ff) ||\n        (codePoint >= 0xe000 >> shift && codePoint << shift <= 0xffff)\n      )\n    }\n    if (octetsCount === 3) {\n      return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10ffff\n    }\n    throw new Error()\n  }\n  function octetsCount(bitsNeeded, codePoint) {\n    if (bitsNeeded === 6 * 1) {\n      return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1\n    }\n    if (bitsNeeded === 6 * 2) {\n      return codePoint > 15 ? 3 : 2\n    }\n    if (bitsNeeded === 6 * 3) {\n      return 3\n    }\n    throw new Error()\n  }\n  var REPLACER = 0xfffd\n  var string = ''\n  var bitsNeeded = this.bitsNeeded\n  var codePoint = this.codePoint\n  for (var i = 0; i < octets.length; i += 1) {\n    var octet = octets[i]\n    if (bitsNeeded !== 0) {\n      if (\n        octet < 128 ||\n        octet > 191 ||\n        !valid(\n          (codePoint << 6) | (octet & 63),\n          bitsNeeded - 6,\n          octetsCount(bitsNeeded, codePoint)\n        )\n      ) {\n        bitsNeeded = 0\n        codePoint = REPLACER\n        string += String.fromCharCode(codePoint)\n      }\n    }\n    if (bitsNeeded === 0) {\n      if (octet >= 0 && octet <= 127) {\n        bitsNeeded = 0\n        codePoint = octet\n      } else if (octet >= 192 && octet <= 223) {\n        bitsNeeded = 6 * 1\n        codePoint = octet & 31\n      } else if (octet >= 224 && octet <= 239) {\n        bitsNeeded = 6 * 2\n        codePoint = octet & 15\n      } else if (octet >= 240 && octet <= 247) {\n        bitsNeeded = 6 * 3\n        codePoint = octet & 7\n      } else {\n        bitsNeeded = 0\n        codePoint = REPLACER\n      }\n      if (\n        bitsNeeded !== 0 &&\n        !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))\n      ) {\n        bitsNeeded = 0\n        codePoint = REPLACER\n      }\n    } else {\n      bitsNeeded -= 6\n      codePoint = (codePoint << 6) | (octet & 63)\n    }\n    if (bitsNeeded === 0) {\n      if (codePoint <= 0xffff) {\n        string += String.fromCharCode(codePoint)\n      } else {\n        string += String.fromCharCode(0xd800 + ((codePoint - 0xffff - 1) >> 10))\n        string += String.fromCharCode(\n          0xdc00 + ((codePoint - 0xffff - 1) & 0x3ff)\n        )\n      }\n    }\n  }\n  this.bitsNeeded = bitsNeeded\n  this.codePoint = codePoint\n  return string\n}\n\n// Firefox < 38 throws an error with stream option\nvar supportsStreamOption = function () {\n  try {\n    return (\n      new TextDecoder().decode(new TextEncoder().encode('test'), {\n        stream: true,\n      }) === 'test'\n    )\n  } catch (error) {\n    console.log(error)\n  }\n  return false\n}\n\n// IE, Edge\nif (\n  TextDecoder == undefined ||\n  TextEncoder == undefined ||\n  !supportsStreamOption()\n) {\n  TextDecoder = TextDecoderPolyfill\n}\n\nvar k = function () {}\n\nfunction XHRWrapper(xhr) {\n  this.withCredentials = false\n  this.responseType = ''\n  this.readyState = 0\n  this.status = 0\n  this.statusText = ''\n  this.responseText = ''\n  this.onprogress = k\n  this.onreadystatechange = k\n  this._contentType = ''\n  this._xhr = xhr\n  this._sendTimeout = 0\n  this._abort = k\n}\n\nXHRWrapper.prototype.open = function (method, url) {\n  this._abort(true)\n\n  var that = this\n  var xhr = this._xhr\n  var state = 1\n  var timeout = 0\n\n  this._abort = function (silent) {\n    if (that._sendTimeout !== 0) {\n      clearTimeout(that._sendTimeout)\n      that._sendTimeout = 0\n    }\n    if (state === 1 || state === 2 || state === 3) {\n      state = 4\n      xhr.onload = k\n      xhr.onerror = k\n      xhr.onabort = k\n      xhr.onprogress = k\n      xhr.onreadystatechange = k\n      // IE 8 - 9: XDomainRequest#abort() does not fire any event\n      // Opera < 10: XMLHttpRequest#abort() does not fire any event\n      xhr.abort()\n      if (timeout !== 0) {\n        clearTimeout(timeout)\n        timeout = 0\n      }\n      if (!silent) {\n        that.readyState = 4\n        that.onreadystatechange()\n      }\n    }\n    state = 0\n  }\n\n  var onStart = function () {\n    if (state === 1) {\n      // state = 2;\n      var status = 0\n      var statusText = ''\n      var contentType = undefined\n      if (!('contentType' in xhr)) {\n        try {\n          status = xhr.status\n          statusText = xhr.statusText\n          contentType = xhr.getResponseHeader('Content-Type')\n        } catch (error) {\n          // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\n          // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\n          // https://bugs.webkit.org/show_bug.cgi?id=29121\n          status = 0\n          statusText = ''\n          contentType = undefined\n          // Firefox < 14, Chrome ?, Safari ?\n          // https://bugs.webkit.org/show_bug.cgi?id=29658\n          // https://bugs.webkit.org/show_bug.cgi?id=77854\n        }\n      } else {\n        status = 200\n        statusText = 'OK'\n        contentType = xhr.contentType\n      }\n      if (status !== 0) {\n        state = 2\n        that.readyState = 2\n        that.status = status\n        that.statusText = statusText\n        that._contentType = contentType\n        that.onreadystatechange()\n      }\n    }\n  }\n  var onProgress = function () {\n    onStart()\n    if (state === 2 || state === 3) {\n      state = 3\n      var responseText = ''\n      try {\n        responseText = xhr.responseText\n      } catch (error) {\n        // IE 8 - 9 with XMLHttpRequest\n      }\n      that.readyState = 3\n      that.responseText = responseText\n      that.onprogress()\n    }\n  }\n  var onFinish = function () {\n    // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\n    // IE 8 fires \"onload\" without \"onprogress\"\n    onProgress()\n    if (state === 1 || state === 2 || state === 3) {\n      state = 4\n      if (timeout !== 0) {\n        clearTimeout(timeout)\n        timeout = 0\n      }\n      that.readyState = 4\n      that.onreadystatechange()\n    }\n  }\n  var onReadyStateChange = function () {\n    if (xhr != undefined) {\n      // Opera 12\n      if (xhr.readyState === 4) {\n        onFinish()\n      } else if (xhr.readyState === 3) {\n        onProgress()\n      } else if (xhr.readyState === 2) {\n        onStart()\n      }\n    }\n  }\n  var onTimeout = function () {\n    timeout = setTimeout(function () {\n      onTimeout()\n    }, 500)\n    if (xhr.readyState === 3) {\n      onProgress()\n    }\n  }\n\n  // XDomainRequest#abort removes onprogress, onerror, onload\n  xhr.onload = onFinish\n  xhr.onerror = onFinish\n  // improper fix to match Firefox behavior, but it is better than just ignore abort\n  // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\n  // https://code.google.com/p/chromium/issues/detail?id=153570\n  // IE 8 fires \"onload\" without \"onprogress\n  xhr.onabort = onFinish\n\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=736723\n  if (\n    !('sendAsBinary' in XMLHttpRequest.prototype) &&\n    !('mozAnon' in XMLHttpRequest.prototype)\n  ) {\n    xhr.onprogress = onProgress\n  }\n\n  // IE 8 - 9 (XMLHTTPRequest)\n  // Opera < 12\n  // Firefox < 3.5\n  // Firefox 3.5 - 3.6 - ? < 9.0\n  // onprogress is not fired sometimes or delayed\n  // see also #64\n  xhr.onreadystatechange = onReadyStateChange\n\n  if ('contentType' in xhr) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + 'padding=true'\n  }\n  xhr.open(method, url, true)\n\n  if ('readyState' in xhr) {\n    // workaround for Opera 12 issue with \"progress\" events\n    // #91\n    timeout = setTimeout(function () {\n      onTimeout()\n    }, 0)\n  }\n}\nXHRWrapper.prototype.abort = function () {\n  this._abort(false)\n}\nXHRWrapper.prototype.getResponseHeader = function (name) {\n  return this._contentType\n}\nXHRWrapper.prototype.setRequestHeader = function (name, value) {\n  var xhr = this._xhr\n  if ('setRequestHeader' in xhr) {\n    xhr.setRequestHeader(name, value)\n  }\n}\nXHRWrapper.prototype.getAllResponseHeaders = function () {\n  return this._xhr.getAllResponseHeaders != undefined\n    ? this._xhr.getAllResponseHeaders()\n    : ''\n}\nXHRWrapper.prototype.send = function () {\n  // loading indicator in Safari < ? (6), Chrome < 14, Firefox\n  if (\n    !('ontimeout' in XMLHttpRequest.prototype) &&\n    document != undefined &&\n    document.readyState != undefined &&\n    document.readyState !== 'complete'\n  ) {\n    var that = this\n    that._sendTimeout = setTimeout(function () {\n      that._sendTimeout = 0\n      that.send()\n    }, 4)\n    return\n  }\n\n  var xhr = this._xhr\n  // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\n  xhr.withCredentials = this.withCredentials\n  xhr.responseType = this.responseType\n  try {\n    // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\n    xhr.send(undefined)\n  } catch (error1) {\n    // Safari 5.1.7, Opera 12\n    throw error1\n  }\n}\n\nfunction toLowerCase(name) {\n  return name.replace(/[A-Z]/g, function (c) {\n    return String.fromCharCode(c.charCodeAt(0) + 0x20)\n  })\n}\n\nfunction HeadersPolyfill(all) {\n  // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\n  var map = Object.create(null)\n  var array = all.split('\\r\\n')\n  for (var i = 0; i < array.length; i += 1) {\n    var line = array[i]\n    var parts = line.split(': ')\n    var name = parts.shift()\n    var value = parts.join(': ')\n    map[toLowerCase(name)] = value\n  }\n  this._map = map\n}\nHeadersPolyfill.prototype.get = function (name) {\n  return this._map[toLowerCase(name)]\n}\n\nfunction XHRTransport() {}\n\nXHRTransport.prototype.open = function (\n  xhr,\n  onStartCallback,\n  onProgressCallback,\n  onFinishCallback,\n  url,\n  withCredentials,\n  headers\n) {\n  xhr.open('GET', url)\n  var offset = 0\n  xhr.onprogress = function () {\n    var responseText = xhr.responseText\n    var chunk = responseText.slice(offset)\n    offset += chunk.length\n    onProgressCallback(chunk)\n  }\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 2) {\n      var status = xhr.status\n      var statusText = xhr.statusText\n      var contentType = xhr.getResponseHeader('Content-Type')\n      var headers = xhr.getAllResponseHeaders()\n      onStartCallback(\n        status,\n        statusText,\n        contentType,\n        new HeadersPolyfill(headers),\n        function () {\n          xhr.abort()\n        }\n      )\n    } else if (xhr.readyState === 4) {\n      onFinishCallback()\n    }\n  }\n  xhr.withCredentials = withCredentials\n  xhr.responseType = 'text'\n  for (var name in headers) {\n    if (Object.prototype.hasOwnProperty.call(headers, name)) {\n      xhr.setRequestHeader(name, headers[name])\n    }\n  }\n  xhr.send()\n}\n\nfunction HeadersWrapper(headers) {\n  this._headers = headers\n}\nHeadersWrapper.prototype.get = function (name) {\n  return this._headers.get(name)\n}\n\nfunction FetchTransport() {}\n\nFetchTransport.prototype.open = function (\n  xhr,\n  onStartCallback,\n  onProgressCallback,\n  onFinishCallback,\n  url,\n  withCredentials,\n  headers\n) {\n  var controller = new AbortController()\n  var signal = controller.signal // see #120\n  var textDecoder = new TextDecoder()\n  fetch(url, {\n    headers: headers,\n    credentials: withCredentials ? 'include' : 'same-origin',\n    signal: signal,\n    cache: 'no-store',\n  })\n    .then(function (response) {\n      var reader = response.body.getReader()\n      onStartCallback(\n        response.status,\n        response.statusText,\n        response.headers.get('Content-Type'),\n        new HeadersWrapper(response.headers),\n        function () {\n          controller.abort()\n          reader.cancel()\n        }\n      )\n      return new Promise(function (resolve, reject) {\n        var readNextChunk = function () {\n          reader\n            .read()\n            .then(function (result) {\n              if (result.done) {\n                // Note: bytes in textDecoder are ignored\n                resolve(undefined)\n              } else {\n                var chunk = textDecoder.decode(result.value, { stream: true })\n                onProgressCallback(chunk)\n                readNextChunk()\n              }\n            })\n            ['catch'](function (error) {\n              reject(error)\n            })\n        }\n        readNextChunk()\n      })\n    })\n    .then(\n      function (result) {\n        onFinishCallback()\n        return result\n      },\n      function (error) {\n        onFinishCallback()\n        return Promise.reject(error)\n      }\n    )\n}\n\nfunction EventTarget() {\n  this._listeners = Object.create(null)\n}\n\nfunction throwError(e) {\n  setTimeout(function () {\n    throw e\n  }, 0)\n}\n\nEventTarget.prototype.dispatchEvent = function (event) {\n  event.target = this\n  var typeListeners = this._listeners[event.type]\n  if (typeListeners != undefined) {\n    var length = typeListeners.length\n    for (var i = 0; i < length; i += 1) {\n      var listener = typeListeners[i]\n      try {\n        if (typeof listener.handleEvent === 'function') {\n          listener.handleEvent(event)\n        } else {\n          listener.call(this, event)\n        }\n      } catch (e) {\n        throwError(e)\n      }\n    }\n  }\n}\nEventTarget.prototype.addEventListener = function (type, listener) {\n  type = String(type)\n  var listeners = this._listeners\n  var typeListeners = listeners[type]\n  if (typeListeners == undefined) {\n    typeListeners = []\n    listeners[type] = typeListeners\n  }\n  var found = false\n  for (var i = 0; i < typeListeners.length; i += 1) {\n    if (typeListeners[i] === listener) {\n      found = true\n    }\n  }\n  if (!found) {\n    typeListeners.push(listener)\n  }\n}\nEventTarget.prototype.removeEventListener = function (type, listener) {\n  type = String(type)\n  var listeners = this._listeners\n  var typeListeners = listeners[type]\n  if (typeListeners != undefined) {\n    var filtered = []\n    for (var i = 0; i < typeListeners.length; i += 1) {\n      if (typeListeners[i] !== listener) {\n        filtered.push(typeListeners[i])\n      }\n    }\n    if (filtered.length === 0) {\n      delete listeners[type]\n    } else {\n      listeners[type] = filtered\n    }\n  }\n}\n\nfunction Event(type) {\n  this.type = type\n  this.target = undefined\n}\n\nfunction MessageEvent(type, options) {\n  Event.call(this, type)\n  this.data = options.data\n  this.lastEventId = options.lastEventId\n}\n\nMessageEvent.prototype = Object.create(Event.prototype)\n\nfunction ConnectionEvent(type, options) {\n  Event.call(this, type)\n  this.status = options.status\n  this.statusText = options.statusText\n  this.headers = options.headers\n}\n\nConnectionEvent.prototype = Object.create(Event.prototype)\n\nvar WAITING = -1\nvar CONNECTING = 0\nvar OPEN = 1\nvar CLOSED = 2\n\nvar AFTER_CR = -1\nvar FIELD_START = 0\nvar FIELD = 1\nvar VALUE_START = 2\nvar VALUE = 3\n\nvar contentTypeRegExp = /^text\\/event\\-stream;?(\\s*charset\\=utf\\-8)?$/i\n\nvar MINIMUM_DURATION = 1000\nvar MAXIMUM_DURATION = 18000000\n\nvar parseDuration = function (value, def) {\n  var n = parseInt(value, 10)\n  if (n !== n) {\n    n = def\n  }\n  return clampDuration(n)\n}\nvar clampDuration = function (n) {\n  return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION)\n}\n\nvar fire = function (that, f, event) {\n  try {\n    if (typeof f === 'function') {\n      f.call(that, event)\n    }\n  } catch (e) {\n    throwError(e)\n  }\n}\n\nfunction EventSourcePolyfill(url, options) {\n  EventTarget.call(this)\n\n  this.onopen = undefined\n  this.onmessage = undefined\n  this.onerror = undefined\n\n  this.url = undefined\n  this.readyState = undefined\n  this.withCredentials = undefined\n\n  this._close = undefined\n\n  start(this, url, options)\n}\n\nvar isFetchSupported =\n  fetch != undefined && Response != undefined && 'body' in Response.prototype\n\nfunction start(es, url, options) {\n  url = String(url)\n  var withCredentials = options != undefined && Boolean(options.withCredentials)\n\n  var initialRetry = clampDuration(1000)\n  var heartbeatTimeout =\n    options != undefined && options.heartbeatTimeout != undefined\n      ? parseDuration(options.heartbeatTimeout, 45000)\n      : clampDuration(45000)\n\n  var lastEventId = ''\n  var retry = initialRetry\n  var wasActivity = false\n  var headers =\n    options != undefined && options.headers != undefined\n      ? JSON.parse(JSON.stringify(options.headers))\n      : undefined\n  var CurrentTransport =\n    options != undefined && options.Transport != undefined\n      ? options.Transport\n      : XMLHttpRequest\n  var xhr =\n    isFetchSupported &&\n    !(options != undefined && options.Transport != undefined)\n      ? undefined\n      : new XHRWrapper(new CurrentTransport())\n  var transport = xhr == undefined ? new FetchTransport() : new XHRTransport()\n  var cancelFunction = undefined\n  var timeout = 0\n  var currentState = WAITING\n  var dataBuffer = ''\n  var lastEventIdBuffer = ''\n  var eventTypeBuffer = ''\n\n  var textBuffer = ''\n  var state = FIELD_START\n  var fieldStart = 0\n  var valueStart = 0\n\n  var onStart = function (status, statusText, contentType, headers, cancel) {\n    if (currentState === CONNECTING) {\n      cancelFunction = cancel\n      if (\n        status === 200 &&\n        contentType != undefined &&\n        contentTypeRegExp.test(contentType)\n      ) {\n        currentState = OPEN\n        wasActivity = true\n        retry = initialRetry\n        es.readyState = OPEN\n        var event = new ConnectionEvent('open', {\n          status: status,\n          statusText: statusText,\n          headers: headers,\n        })\n        es.dispatchEvent(event)\n        fire(es, es.onopen, event)\n      } else {\n        var message = ''\n        if (status !== 200) {\n          if (statusText) {\n            statusText = statusText.replace(/\\s+/g, ' ')\n          }\n          message =\n            \"EventSource's response has a status \" +\n            status +\n            ' ' +\n            statusText +\n            ' that is not 200. Aborting the connection.'\n        } else {\n          message =\n            \"EventSource's response has a Content-Type specifying an unsupported type: \" +\n            (contentType == undefined\n              ? '-'\n              : contentType.replace(/\\s+/g, ' ')) +\n            '. Aborting the connection.'\n        }\n        throwError(new Error(message))\n        close()\n        var event = new ConnectionEvent('error', {\n          status: status,\n          statusText: statusText,\n          headers: headers,\n        })\n        es.dispatchEvent(event)\n        fire(es, es.onerror, event)\n      }\n    }\n  }\n\n  var onProgress = function (textChunk) {\n    if (currentState === OPEN) {\n      var n = -1\n      for (var i = 0; i < textChunk.length; i += 1) {\n        var c = textChunk.charCodeAt(i)\n        if (c === '\\n'.charCodeAt(0) || c === '\\r'.charCodeAt(0)) {\n          n = i\n        }\n      }\n      var chunk = (n !== -1 ? textBuffer : '') + textChunk.slice(0, n + 1)\n      textBuffer = (n === -1 ? textBuffer : '') + textChunk.slice(n + 1)\n      if (chunk !== '') {\n        wasActivity = true\n      }\n      for (var position = 0; position < chunk.length; position += 1) {\n        var c = chunk.charCodeAt(position)\n        if (state === AFTER_CR && c === '\\n'.charCodeAt(0)) {\n          state = FIELD_START\n        } else {\n          if (state === AFTER_CR) {\n            state = FIELD_START\n          }\n          if (c === '\\r'.charCodeAt(0) || c === '\\n'.charCodeAt(0)) {\n            if (state !== FIELD_START) {\n              if (state === FIELD) {\n                valueStart = position + 1\n              }\n              var field = chunk.slice(fieldStart, valueStart - 1)\n              var value = chunk.slice(\n                valueStart +\n                  (valueStart < position &&\n                  chunk.charCodeAt(valueStart) === ' '.charCodeAt(0)\n                    ? 1\n                    : 0),\n                position\n              )\n              if (field === 'data') {\n                dataBuffer += '\\n'\n                dataBuffer += value\n              } else if (field === 'id') {\n                lastEventIdBuffer = value\n              } else if (field === 'event') {\n                eventTypeBuffer = value\n              } else if (field === 'retry') {\n                initialRetry = parseDuration(value, initialRetry)\n                retry = initialRetry\n              } else if (field === 'heartbeatTimeout') {\n                heartbeatTimeout = parseDuration(value, heartbeatTimeout)\n                if (timeout !== 0) {\n                  clearTimeout(timeout)\n                  timeout = setTimeout(function () {\n                    onTimeout()\n                  }, heartbeatTimeout)\n                }\n              }\n            }\n            if (state === FIELD_START) {\n              if (dataBuffer !== '') {\n                lastEventId = lastEventIdBuffer\n                if (eventTypeBuffer === '') {\n                  eventTypeBuffer = 'message'\n                }\n                var event = new MessageEvent(eventTypeBuffer, {\n                  data: dataBuffer.slice(1),\n                  lastEventId: lastEventIdBuffer,\n                })\n                es.dispatchEvent(event)\n                if (eventTypeBuffer === 'message') {\n                  fire(es, es.onmessage, event)\n                }\n                if (currentState === CLOSED) {\n                  return\n                }\n              }\n              dataBuffer = ''\n              eventTypeBuffer = ''\n            }\n            state = c === '\\r'.charCodeAt(0) ? AFTER_CR : FIELD_START\n          } else {\n            if (state === FIELD_START) {\n              fieldStart = position\n              state = FIELD\n            }\n            if (state === FIELD) {\n              if (c === ':'.charCodeAt(0)) {\n                valueStart = position + 1\n                state = VALUE_START\n              }\n            } else if (state === VALUE_START) {\n              state = VALUE\n            }\n          }\n        }\n      }\n    }\n  }\n\n  var onFinish = function () {\n    if (currentState === OPEN || currentState === CONNECTING) {\n      currentState = WAITING\n      if (timeout !== 0) {\n        clearTimeout(timeout)\n        timeout = 0\n      }\n      timeout = setTimeout(function () {\n        onTimeout()\n      }, retry)\n      retry = clampDuration(Math.min(initialRetry * 16, retry * 2))\n\n      es.readyState = CONNECTING\n      var event = new Event('error')\n      es.dispatchEvent(event)\n      fire(es, es.onerror, event)\n    }\n  }\n\n  var close = function () {\n    currentState = CLOSED\n    if (cancelFunction != undefined) {\n      cancelFunction()\n      cancelFunction = undefined\n    }\n    if (timeout !== 0) {\n      clearTimeout(timeout)\n      timeout = 0\n    }\n    es.readyState = CLOSED\n  }\n\n  var onTimeout = function () {\n    timeout = 0\n\n    if (currentState !== WAITING) {\n      if (!wasActivity && cancelFunction != undefined) {\n        throwError(\n          new Error(\n            'No activity within ' +\n              heartbeatTimeout +\n              ' milliseconds. Reconnecting.'\n          )\n        )\n        cancelFunction()\n        cancelFunction = undefined\n      } else {\n        wasActivity = false\n        timeout = setTimeout(function () {\n          onTimeout()\n        }, heartbeatTimeout)\n      }\n      return\n    }\n\n    wasActivity = false\n    timeout = setTimeout(function () {\n      onTimeout()\n    }, heartbeatTimeout)\n\n    currentState = CONNECTING\n    dataBuffer = ''\n    eventTypeBuffer = ''\n    lastEventIdBuffer = lastEventId\n    textBuffer = ''\n    fieldStart = 0\n    valueStart = 0\n    state = FIELD_START\n\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\n    // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\n    var requestURL = url\n    if (url.slice(0, 5) !== 'data:' && url.slice(0, 5) !== 'blob:') {\n      if (lastEventId !== '') {\n        requestURL +=\n          (url.indexOf('?') === -1 ? '?' : '&') +\n          'lastEventId=' +\n          encodeURIComponent(lastEventId)\n      }\n    }\n    var requestHeaders = {}\n    requestHeaders['Accept'] = 'text/event-stream'\n    if (headers != undefined) {\n      for (var name in headers) {\n        if (Object.prototype.hasOwnProperty.call(headers, name)) {\n          requestHeaders[name] = headers[name]\n        }\n      }\n    }\n    try {\n      transport.open(\n        xhr,\n        onStart,\n        onProgress,\n        onFinish,\n        requestURL,\n        withCredentials,\n        requestHeaders\n      )\n    } catch (error) {\n      close()\n      throw error\n    }\n  }\n\n  es.url = url\n  es.readyState = CONNECTING\n  es.withCredentials = withCredentials\n  es._close = close\n\n  onTimeout()\n}\n\nEventSourcePolyfill.prototype = Object.create(EventTarget.prototype)\nEventSourcePolyfill.prototype.CONNECTING = CONNECTING\nEventSourcePolyfill.prototype.OPEN = OPEN\nEventSourcePolyfill.prototype.CLOSED = CLOSED\nEventSourcePolyfill.prototype.close = function () {\n  this._close()\n}\n\nEventSourcePolyfill.CONNECTING = CONNECTING\nEventSourcePolyfill.OPEN = OPEN\nEventSourcePolyfill.CLOSED = CLOSED\nEventSourcePolyfill.prototype.withCredentials = undefined\n\nexport default EventSourcePolyfill\n"],"names":["document","window","Response","TextDecoder","TextEncoder","AbortController","undefined","signal","abort","TextDecoderPolyfill","bitsNeeded","codePoint","prototype","decode","octets","valid","shift","octetsCount","Error","REPLACER","string","i","length","octet","String","fromCharCode","supportsStreamOption","encode","stream","error","console","log","k","XHRWrapper","xhr","withCredentials","responseType","readyState","status","statusText","responseText","onprogress","onreadystatechange","_contentType","_xhr","_sendTimeout","_abort","open","method","url","that","state","timeout","silent","clearTimeout","onload","onerror","onabort","onStart","contentType","getResponseHeader","onProgress","onFinish","onReadyStateChange","onTimeout","setTimeout","XMLHttpRequest","indexOf","name","setRequestHeader","value","getAllResponseHeaders","send","error1","toLowerCase","replace","c","charCodeAt","HeadersPolyfill","all","map","Object","create","array","split","line","parts","join","_map","get","XHRTransport","onStartCallback","onProgressCallback","onFinishCallback","headers","offset","chunk","slice","hasOwnProperty","call","HeadersWrapper","_headers","FetchTransport","controller","textDecoder","fetch","credentials","cache","then","response","reader","body","getReader","cancel","Promise","resolve","reject","readNextChunk","read","result","done","EventTarget","_listeners","throwError","e","dispatchEvent","event","target","typeListeners","type","listener","handleEvent","addEventListener","listeners","found","push","removeEventListener","filtered","Event","MessageEvent","options","data","lastEventId","ConnectionEvent","WAITING","CONNECTING","OPEN","CLOSED","AFTER_CR","FIELD_START","FIELD","VALUE_START","VALUE","contentTypeRegExp","MINIMUM_DURATION","MAXIMUM_DURATION","parseDuration","def","n","parseInt","clampDuration","Math","min","max","fire","f","EventSourcePolyfill","onopen","onmessage","_close","start","isFetchSupported","es","Boolean","initialRetry","heartbeatTimeout","retry","wasActivity","JSON","parse","stringify","CurrentTransport","Transport","transport","cancelFunction","currentState","dataBuffer","lastEventIdBuffer","eventTypeBuffer","textBuffer","fieldStart","valueStart","test","message","close","textChunk","position","field","requestURL","encodeURIComponent","requestHeaders"],"mappings":"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"}