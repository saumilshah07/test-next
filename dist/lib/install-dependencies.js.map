{"version":3,"sources":["../../lib/install-dependencies.ts"],"sourcesContent":["import chalk from 'chalk'\nimport path from 'path'\n\nimport { MissingDependency } from './has-necessary-dependencies'\nimport { shouldUseYarn } from './helpers/should-use-yarn'\nimport { install } from './helpers/install'\nimport { getOnline } from './helpers/get-online'\n\nexport type Dependencies = {\n  resolved: Map<string, string>\n}\n\nexport async function installDependencies(\n  baseDir: string,\n  deps: any,\n  dev: boolean = false\n) {\n  const useYarn = shouldUseYarn()\n  const isOnline = !useYarn || (await getOnline())\n\n  if (deps.length) {\n    console.log()\n    console.log(`Installing ${dev ? 'devDependencies' : 'dependencies'}:`)\n    for (const dep of deps) {\n      console.log(`- ${chalk.cyan(dep.pkg)}`)\n    }\n    console.log()\n\n    const devInstallFlags = { devDependencies: dev, ...{ useYarn, isOnline } }\n    await install(\n      path.resolve(baseDir),\n      deps.map((dep: MissingDependency) => dep.pkg),\n      devInstallFlags\n    )\n    console.log()\n  }\n}\n"],"names":["installDependencies","baseDir","deps","dev","useYarn","isOnline","length","console","log","dep","cyan","pkg","devInstallFlags","devDependencies","resolve","map"],"mappings":";;;;QAYsBA,mBAAmB,GAAnBA,mBAAmB;AAZvB,GAAO,CAAP,MAAO;AACR,GAAM,CAAN,KAAM;AAGO,GAA2B,CAA3B,cAA2B;AACjC,GAAmB,CAAnB,QAAmB;AACjB,GAAsB,CAAtB,UAAsB;;;;;;eAM1BA,mBAAmB,CACvCC,OAAe,EACfC,IAAS,EACTC,GAAY,GAAG,KAAK,EACpB,CAAC;IACD,KAAK,CAACC,OAAO,OAbe,cAA2B;IAcvD,KAAK,CAACC,QAAQ,IAAID,OAAO,IAAK,KAAK,KAZX,UAAsB;IAc9C,EAAE,EAAEF,IAAI,CAACI,MAAM,EAAE,CAAC;QAChBC,OAAO,CAACC,GAAG;QACXD,OAAO,CAACC,GAAG,EAAE,WAAW,EAAEL,GAAG,GAAG,CAAiB,mBAAG,CAAc,cAAC,CAAC;QACpE,GAAG,EAAE,KAAK,CAACM,IAAG,IAAIP,IAAI,CAAE,CAAC;YACvBK,OAAO,CAACC,GAAG,EAAE,EAAE,EAxBH,MAAO,SAwBIE,IAAI,CAACD,IAAG,CAACE,GAAG;QACrC,CAAC;QACDJ,OAAO,CAACC,GAAG;QAEX,KAAK,CAACI,eAAe,GAAG,CAAC;YAACC,eAAe,EAAEV,GAAG;eAAK,CAAC;gBAACC,OAAO;gBAAEC,QAAQ;YAAC,CAAC;QAAC,CAAC;QAC1E,KAAK,KAxBe,QAAmB,UAJ1B,KAAM,SA6BZS,OAAO,CAACb,OAAO,GACpBC,IAAI,CAACa,GAAG,EAAEN,GAAsB,GAAKA,GAAG,CAACE,GAAG;WAC5CC,eAAe;QAEjBL,OAAO,CAACC,GAAG;IACb,CAAC;AACH,CAAC"}