{"version":3,"sources":["../../build/utils.ts"],"sourcesContent":["import '../server/node-polyfill-fetch'\nimport chalk from 'chalk'\nimport getGzipSize from 'next/dist/compiled/gzip-size'\nimport textTable from 'next/dist/compiled/text-table'\nimport path from 'path'\nimport { promises as fs } from 'fs'\nimport { isValidElementType } from 'react-is'\nimport stripAnsi from 'next/dist/compiled/strip-ansi'\nimport {\n  Redirect,\n  Rewrite,\n  Header,\n  CustomRoutes,\n} from '../lib/load-custom-routes'\nimport {\n  SSG_GET_INITIAL_PROPS_CONFLICT,\n  SERVER_PROPS_GET_INIT_PROPS_CONFLICT,\n  SERVER_PROPS_SSG_CONFLICT,\n} from '../lib/constants'\nimport prettyBytes from '../lib/pretty-bytes'\nimport { recursiveReadDir } from '../lib/recursive-readdir'\nimport { getRouteMatcher, getRouteRegex } from '../shared/lib/router/utils'\nimport { isDynamicRoute } from '../shared/lib/router/utils/is-dynamic'\nimport escapePathDelimiters from '../shared/lib/router/utils/escape-path-delimiters'\nimport { findPageFile } from '../server/lib/find-page-file'\nimport { GetStaticPaths, PageConfig } from 'next/types'\nimport { denormalizePagePath } from '../server/normalize-page-path'\nimport { BuildManifest } from '../server/get-page-files'\nimport { removePathTrailingSlash } from '../client/normalize-trailing-slash'\nimport { UnwrapPromise } from '../lib/coalesced-function'\nimport { normalizeLocalePath } from '../shared/lib/i18n/normalize-locale-path'\nimport * as Log from './output/log'\nimport { loadComponents } from '../server/load-components'\nimport { trace } from '../telemetry/trace'\nimport { setHttpAgentOptions } from '../server/config'\nimport { NextConfigComplete } from '../server/config-shared'\n\nconst fileGzipStats: { [k: string]: Promise<number> | undefined } = {}\nconst fsStatGzip = (file: string) => {\n  const cached = fileGzipStats[file]\n  if (cached) return cached\n  return (fileGzipStats[file] = getGzipSize.file(file))\n}\n\nconst fileSize = async (file: string) => (await fs.stat(file)).size\n\nconst fileStats: { [k: string]: Promise<number> | undefined } = {}\nconst fsStat = (file: string) => {\n  const cached = fileStats[file]\n  if (cached) return cached\n  return (fileStats[file] = fileSize(file))\n}\n\nexport function collectPages(\n  directory: string,\n  pageExtensions: string[]\n): Promise<string[]> {\n  return recursiveReadDir(\n    directory,\n    new RegExp(`\\\\.(?:${pageExtensions.join('|')})$`)\n  )\n}\n\nexport interface PageInfo {\n  isHybridAmp?: boolean\n  size: number\n  totalSize: number\n  static: boolean\n  isSsg: boolean\n  ssgPageRoutes: string[] | null\n  initialRevalidateSeconds: number | false\n  pageDuration: number | undefined\n  ssgPageDurations: number[] | undefined\n}\n\nexport async function printTreeView(\n  list: readonly string[],\n  pageInfos: Map<string, PageInfo>,\n  serverless: boolean,\n  {\n    distPath,\n    buildId,\n    pagesDir,\n    pageExtensions,\n    buildManifest,\n    useStatic404,\n    gzipSize = true,\n  }: {\n    distPath: string\n    buildId: string\n    pagesDir: string\n    pageExtensions: string[]\n    buildManifest: BuildManifest\n    useStatic404: boolean\n    gzipSize?: boolean\n  }\n) {\n  const getPrettySize = (_size: number): string => {\n    const size = prettyBytes(_size)\n    // green for 0-130kb\n    if (_size < 130 * 1000) return chalk.green(size)\n    // yellow for 130-170kb\n    if (_size < 170 * 1000) return chalk.yellow(size)\n    // red for >= 170kb\n    return chalk.red.bold(size)\n  }\n\n  const MIN_DURATION = 300\n  const getPrettyDuration = (_duration: number): string => {\n    const duration = `${_duration} ms`\n    // green for 300-1000ms\n    if (_duration < 1000) return chalk.green(duration)\n    // yellow for 1000-2000ms\n    if (_duration < 2000) return chalk.yellow(duration)\n    // red for >= 2000ms\n    return chalk.red.bold(duration)\n  }\n\n  const getCleanName = (fileName: string) =>\n    fileName\n      // Trim off `static/`\n      .replace(/^static\\//, '')\n      // Re-add `static/` for root files\n      .replace(/^<buildId>/, 'static')\n      // Remove file hash\n      .replace(/(?:^|[.-])([0-9a-z]{6})[0-9a-z]{14}(?=\\.)/, '.$1')\n\n  const messages: [string, string, string][] = [\n    ['Page', 'Size', 'First Load JS'].map((entry) =>\n      chalk.underline(entry)\n    ) as [string, string, string],\n  ]\n\n  const hasCustomApp = await findPageFile(pagesDir, '/_app', pageExtensions)\n\n  pageInfos.set('/404', {\n    ...(pageInfos.get('/404') || pageInfos.get('/_error')),\n    static: useStatic404,\n  } as any)\n\n  if (!list.includes('/404')) {\n    list = [...list, '/404']\n  }\n\n  const sizeData = await computeFromManifest(\n    buildManifest,\n    distPath,\n    gzipSize,\n    pageInfos\n  )\n\n  const pageList = list\n    .slice()\n    .filter(\n      (e) =>\n        !(\n          e === '/_document' ||\n          e === '/_error' ||\n          (!hasCustomApp && e === '/_app')\n        )\n    )\n    .sort((a, b) => a.localeCompare(b))\n\n  pageList.forEach((item, i, arr) => {\n    const symbol =\n      i === 0\n        ? arr.length === 1\n          ? '─'\n          : '┌'\n        : i === arr.length - 1\n        ? '└'\n        : '├'\n\n    const pageInfo = pageInfos.get(item)\n    const ampFirst = buildManifest.ampFirstPages.includes(item)\n\n    const totalDuration =\n      (pageInfo?.pageDuration || 0) +\n      (pageInfo?.ssgPageDurations?.reduce((a, b) => a + (b || 0), 0) || 0)\n\n    messages.push([\n      `${symbol} ${\n        item === '/_app'\n          ? ' '\n          : pageInfo?.static\n          ? '○'\n          : pageInfo?.isSsg\n          ? '●'\n          : 'λ'\n      } ${\n        pageInfo?.initialRevalidateSeconds\n          ? `${item} (ISR: ${pageInfo?.initialRevalidateSeconds} Seconds)`\n          : item\n      }${\n        totalDuration > MIN_DURATION\n          ? ` (${getPrettyDuration(totalDuration)})`\n          : ''\n      }`,\n      pageInfo\n        ? ampFirst\n          ? chalk.cyan('AMP')\n          : pageInfo.size >= 0\n          ? prettyBytes(pageInfo.size)\n          : ''\n        : '',\n      pageInfo\n        ? ampFirst\n          ? chalk.cyan('AMP')\n          : pageInfo.size >= 0\n          ? getPrettySize(pageInfo.totalSize)\n          : ''\n        : '',\n    ])\n\n    const uniqueCssFiles =\n      buildManifest.pages[item]?.filter(\n        (file) => file.endsWith('.css') && sizeData.uniqueFiles.includes(file)\n      ) || []\n\n    if (uniqueCssFiles.length > 0) {\n      const contSymbol = i === arr.length - 1 ? ' ' : '├'\n\n      uniqueCssFiles.forEach((file, index, { length }) => {\n        const innerSymbol = index === length - 1 ? '└' : '├'\n        messages.push([\n          `${contSymbol}   ${innerSymbol} ${getCleanName(file)}`,\n          prettyBytes(sizeData.sizeUniqueFiles[file]),\n          '',\n        ])\n      })\n    }\n\n    if (pageInfo?.ssgPageRoutes?.length) {\n      const totalRoutes = pageInfo.ssgPageRoutes.length\n      const contSymbol = i === arr.length - 1 ? ' ' : '├'\n\n      let routes: { route: string; duration: number; avgDuration?: number }[]\n      if (\n        pageInfo.ssgPageDurations &&\n        pageInfo.ssgPageDurations.some((d) => d > MIN_DURATION)\n      ) {\n        const previewPages = totalRoutes === 8 ? 8 : Math.min(totalRoutes, 7)\n        const routesWithDuration = pageInfo.ssgPageRoutes\n          .map((route, idx) => ({\n            route,\n            duration: pageInfo.ssgPageDurations![idx] || 0,\n          }))\n          .sort(({ duration: a }, { duration: b }) =>\n            // Sort by duration\n            // keep too small durations in original order at the end\n            a <= MIN_DURATION && b <= MIN_DURATION ? 0 : b - a\n          )\n        routes = routesWithDuration.slice(0, previewPages)\n        const remainingRoutes = routesWithDuration.slice(previewPages)\n        if (remainingRoutes.length) {\n          const remaining = remainingRoutes.length\n          const avgDuration = Math.round(\n            remainingRoutes.reduce(\n              (total, { duration }) => total + duration,\n              0\n            ) / remainingRoutes.length\n          )\n          routes.push({\n            route: `[+${remaining} more paths]`,\n            duration: 0,\n            avgDuration,\n          })\n        }\n      } else {\n        const previewPages = totalRoutes === 4 ? 4 : Math.min(totalRoutes, 3)\n        routes = pageInfo.ssgPageRoutes\n          .slice(0, previewPages)\n          .map((route) => ({ route, duration: 0 }))\n        if (totalRoutes > previewPages) {\n          const remaining = totalRoutes - previewPages\n          routes.push({ route: `[+${remaining} more paths]`, duration: 0 })\n        }\n      }\n\n      routes.forEach(({ route, duration, avgDuration }, index, { length }) => {\n        const innerSymbol = index === length - 1 ? '└' : '├'\n        messages.push([\n          `${contSymbol}   ${innerSymbol} ${route}${\n            duration > MIN_DURATION ? ` (${getPrettyDuration(duration)})` : ''\n          }${\n            avgDuration && avgDuration > MIN_DURATION\n              ? ` (avg ${getPrettyDuration(avgDuration)})`\n              : ''\n          }`,\n          '',\n          '',\n        ])\n      })\n    }\n  })\n\n  const sharedFilesSize = sizeData.sizeCommonFiles\n  const sharedFiles = sizeData.sizeCommonFile\n\n  messages.push([\n    '+ First Load JS shared by all',\n    getPrettySize(sharedFilesSize),\n    '',\n  ])\n  const sharedFileKeys = Object.keys(sharedFiles)\n  const sharedCssFiles: string[] = []\n  ;[\n    ...sharedFileKeys\n      .filter((file) => {\n        if (file.endsWith('.css')) {\n          sharedCssFiles.push(file)\n          return false\n        }\n        return true\n      })\n      .map((e) => e.replace(buildId, '<buildId>'))\n      .sort(),\n    ...sharedCssFiles.map((e) => e.replace(buildId, '<buildId>')).sort(),\n  ].forEach((fileName, index, { length }) => {\n    const innerSymbol = index === length - 1 ? '└' : '├'\n\n    const originalName = fileName.replace('<buildId>', buildId)\n    const cleanName = getCleanName(fileName)\n\n    messages.push([\n      `  ${innerSymbol} ${cleanName}`,\n      prettyBytes(sharedFiles[originalName]),\n      '',\n    ])\n  })\n\n  console.log(\n    textTable(messages, {\n      align: ['l', 'l', 'r'],\n      stringLength: (str) => stripAnsi(str).length,\n    })\n  )\n\n  console.log()\n  console.log(\n    textTable(\n      [\n        [\n          'λ',\n          serverless ? '(Lambda)' : '(Server)',\n          `server-side renders at runtime (uses ${chalk.cyan(\n            'getInitialProps'\n          )} or ${chalk.cyan('getServerSideProps')})`,\n        ],\n        [\n          '○',\n          '(Static)',\n          'automatically rendered as static HTML (uses no initial props)',\n        ],\n        [\n          '●',\n          '(SSG)',\n          `automatically generated as static HTML + JSON (uses ${chalk.cyan(\n            'getStaticProps'\n          )})`,\n        ],\n        [\n          '',\n          '(ISR)',\n          `incremental static regeneration (uses revalidate in ${chalk.cyan(\n            'getStaticProps'\n          )})`,\n        ],\n      ] as [string, string, string][],\n      {\n        align: ['l', 'l', 'l'],\n        stringLength: (str) => stripAnsi(str).length,\n      }\n    )\n  )\n\n  console.log()\n}\n\nexport function printCustomRoutes({\n  redirects,\n  rewrites,\n  headers,\n}: CustomRoutes) {\n  const printRoutes = (\n    routes: Redirect[] | Rewrite[] | Header[],\n    type: 'Redirects' | 'Rewrites' | 'Headers'\n  ) => {\n    const isRedirects = type === 'Redirects'\n    const isHeaders = type === 'Headers'\n    console.log(chalk.underline(type))\n    console.log()\n\n    /*\n        ┌ source\n        ├ permanent/statusCode\n        └ destination\n     */\n    const routesStr = (routes as any[])\n      .map((route: { source: string }) => {\n        let routeStr = `┌ source: ${route.source}\\n`\n\n        if (!isHeaders) {\n          const r = route as Rewrite\n          routeStr += `${isRedirects ? '├' : '└'} destination: ${\n            r.destination\n          }\\n`\n        }\n        if (isRedirects) {\n          const r = route as Redirect\n          routeStr += `└ ${\n            r.statusCode\n              ? `status: ${r.statusCode}`\n              : `permanent: ${r.permanent}`\n          }\\n`\n        }\n\n        if (isHeaders) {\n          const r = route as Header\n          routeStr += `└ headers:\\n`\n\n          for (let i = 0; i < r.headers.length; i++) {\n            const header = r.headers[i]\n            const last = i === headers.length - 1\n\n            routeStr += `  ${last ? '└' : '├'} ${header.key}: ${header.value}\\n`\n          }\n        }\n\n        return routeStr\n      })\n      .join('\\n')\n\n    console.log(routesStr, '\\n')\n  }\n\n  if (redirects.length) {\n    printRoutes(redirects, 'Redirects')\n  }\n  if (headers.length) {\n    printRoutes(headers, 'Headers')\n  }\n\n  const combinedRewrites = [\n    ...rewrites.beforeFiles,\n    ...rewrites.afterFiles,\n    ...rewrites.fallback,\n  ]\n  if (combinedRewrites.length) {\n    printRoutes(combinedRewrites, 'Rewrites')\n  }\n}\n\ntype ComputeManifestShape = {\n  commonFiles: string[]\n  uniqueFiles: string[]\n  sizeUniqueFiles: { [file: string]: number }\n  sizeCommonFile: { [file: string]: number }\n  sizeCommonFiles: number\n}\n\nlet cachedBuildManifest: BuildManifest | undefined\n\nlet lastCompute: ComputeManifestShape | undefined\nlet lastComputePageInfo: boolean | undefined\n\nexport async function computeFromManifest(\n  manifest: BuildManifest,\n  distPath: string,\n  gzipSize: boolean = true,\n  pageInfos?: Map<string, PageInfo>\n): Promise<ComputeManifestShape> {\n  if (\n    Object.is(cachedBuildManifest, manifest) &&\n    lastComputePageInfo === !!pageInfos\n  ) {\n    return lastCompute!\n  }\n\n  let expected = 0\n  const files = new Map<string, number>()\n  Object.keys(manifest.pages).forEach((key) => {\n    if (pageInfos) {\n      const pageInfo = pageInfos.get(key)\n      // don't include AMP pages since they don't rely on shared bundles\n      // AMP First pages are not under the pageInfos key\n      if (pageInfo?.isHybridAmp) {\n        return\n      }\n    }\n\n    ++expected\n    manifest.pages[key].forEach((file) => {\n      if (key === '/_app') {\n        files.set(file, Infinity)\n      } else if (files.has(file)) {\n        files.set(file, files.get(file)! + 1)\n      } else {\n        files.set(file, 1)\n      }\n    })\n  })\n\n  const getSize = gzipSize ? fsStatGzip : fsStat\n\n  const commonFiles = [...files.entries()]\n    .filter(([, len]) => len === expected || len === Infinity)\n    .map(([f]) => f)\n  const uniqueFiles = [...files.entries()]\n    .filter(([, len]) => len === 1)\n    .map(([f]) => f)\n\n  let stats: [string, number][]\n  try {\n    stats = await Promise.all(\n      commonFiles.map(\n        async (f) =>\n          [f, await getSize(path.join(distPath, f))] as [string, number]\n      )\n    )\n  } catch (_) {\n    stats = []\n  }\n\n  let uniqueStats: [string, number][]\n  try {\n    uniqueStats = await Promise.all(\n      uniqueFiles.map(\n        async (f) =>\n          [f, await getSize(path.join(distPath, f))] as [string, number]\n      )\n    )\n  } catch (_) {\n    uniqueStats = []\n  }\n\n  lastCompute = {\n    commonFiles,\n    uniqueFiles,\n    sizeUniqueFiles: uniqueStats.reduce(\n      (obj, n) => Object.assign(obj, { [n[0]]: n[1] }),\n      {}\n    ),\n    sizeCommonFile: stats.reduce(\n      (obj, n) => Object.assign(obj, { [n[0]]: n[1] }),\n      {}\n    ),\n    sizeCommonFiles: stats.reduce((size, [f, stat]) => {\n      if (f.endsWith('.css')) return size\n      return size + stat\n    }, 0),\n  }\n\n  cachedBuildManifest = manifest\n  lastComputePageInfo = !!pageInfos\n  return lastCompute!\n}\n\nexport function difference<T>(main: T[] | Set<T>, sub: T[] | Set<T>): T[] {\n  const a = new Set(main)\n  const b = new Set(sub)\n  return [...a].filter((x) => !b.has(x))\n}\n\nfunction intersect<T>(main: T[], sub: T[]): T[] {\n  const a = new Set(main)\n  const b = new Set(sub)\n  return [...new Set([...a].filter((x) => b.has(x)))]\n}\n\nfunction sum(a: number[]): number {\n  return a.reduce((size, stat) => size + stat, 0)\n}\n\nexport async function getJsPageSizeInKb(\n  page: string,\n  distPath: string,\n  buildManifest: BuildManifest,\n  gzipSize: boolean = true,\n  computedManifestData?: ComputeManifestShape\n): Promise<[number, number]> {\n  const data =\n    computedManifestData ||\n    (await computeFromManifest(buildManifest, distPath, gzipSize))\n\n  const fnFilterJs = (entry: string) => entry.endsWith('.js')\n\n  const pageFiles = (\n    buildManifest.pages[denormalizePagePath(page)] || []\n  ).filter(fnFilterJs)\n  const appFiles = (buildManifest.pages['/_app'] || []).filter(fnFilterJs)\n\n  const fnMapRealPath = (dep: string) => `${distPath}/${dep}`\n\n  const allFilesReal = [...new Set([...pageFiles, ...appFiles])].map(\n    fnMapRealPath\n  )\n  const selfFilesReal = difference(\n    intersect(pageFiles, data.uniqueFiles),\n    data.commonFiles\n  ).map(fnMapRealPath)\n\n  const getSize = gzipSize ? fsStatGzip : fsStat\n\n  try {\n    // Doesn't use `Promise.all`, as we'd double compute duplicate files. This\n    // function is memoized, so the second one will instantly resolve.\n    const allFilesSize = sum(await Promise.all(allFilesReal.map(getSize)))\n    const selfFilesSize = sum(await Promise.all(selfFilesReal.map(getSize)))\n\n    return [selfFilesSize, allFilesSize]\n  } catch (_) {}\n  return [-1, -1]\n}\n\nexport async function buildStaticPaths(\n  page: string,\n  getStaticPaths: GetStaticPaths,\n  locales?: string[],\n  defaultLocale?: string\n): Promise<\n  Omit<UnwrapPromise<ReturnType<GetStaticPaths>>, 'paths'> & {\n    paths: string[]\n    encodedPaths: string[]\n  }\n> {\n  const prerenderPaths = new Set<string>()\n  const encodedPrerenderPaths = new Set<string>()\n  const _routeRegex = getRouteRegex(page)\n  const _routeMatcher = getRouteMatcher(_routeRegex)\n\n  // Get the default list of allowed params.\n  const _validParamKeys = Object.keys(_routeMatcher(page))\n\n  const staticPathsResult = await getStaticPaths({ locales, defaultLocale })\n\n  const expectedReturnVal =\n    `Expected: { paths: [], fallback: boolean }\\n` +\n    `See here for more info: https://nextjs.org/docs/messages/invalid-getstaticpaths-value`\n\n  if (\n    !staticPathsResult ||\n    typeof staticPathsResult !== 'object' ||\n    Array.isArray(staticPathsResult)\n  ) {\n    throw new Error(\n      `Invalid value returned from getStaticPaths in ${page}. Received ${typeof staticPathsResult} ${expectedReturnVal}`\n    )\n  }\n\n  const invalidStaticPathKeys = Object.keys(staticPathsResult).filter(\n    (key) => !(key === 'paths' || key === 'fallback')\n  )\n\n  if (invalidStaticPathKeys.length > 0) {\n    throw new Error(\n      `Extra keys returned from getStaticPaths in ${page} (${invalidStaticPathKeys.join(\n        ', '\n      )}) ${expectedReturnVal}`\n    )\n  }\n\n  if (\n    !(\n      typeof staticPathsResult.fallback === 'boolean' ||\n      staticPathsResult.fallback === 'blocking'\n    )\n  ) {\n    throw new Error(\n      `The \\`fallback\\` key must be returned from getStaticPaths in ${page}.\\n` +\n        expectedReturnVal\n    )\n  }\n\n  const toPrerender = staticPathsResult.paths\n\n  if (!Array.isArray(toPrerender)) {\n    throw new Error(\n      `Invalid \\`paths\\` value returned from getStaticPaths in ${page}.\\n` +\n        `\\`paths\\` must be an array of strings or objects of shape { params: [key: string]: string }`\n    )\n  }\n\n  toPrerender.forEach((entry) => {\n    // For a string-provided path, we must make sure it matches the dynamic\n    // route.\n    if (typeof entry === 'string') {\n      entry = removePathTrailingSlash(entry)\n\n      const localePathResult = normalizeLocalePath(entry, locales)\n      let cleanedEntry = entry\n\n      if (localePathResult.detectedLocale) {\n        cleanedEntry = entry.substr(localePathResult.detectedLocale.length + 1)\n      } else if (defaultLocale) {\n        entry = `/${defaultLocale}${entry}`\n      }\n\n      const result = _routeMatcher(cleanedEntry)\n      if (!result) {\n        throw new Error(\n          `The provided path \\`${cleanedEntry}\\` does not match the page: \\`${page}\\`.`\n        )\n      }\n\n      // If leveraging the string paths variant the entry should already be\n      // encoded so we decode the segments ensuring we only escape path\n      // delimiters\n      prerenderPaths.add(\n        entry\n          .split('/')\n          .map((segment) =>\n            escapePathDelimiters(decodeURIComponent(segment), true)\n          )\n          .join('/')\n      )\n      encodedPrerenderPaths.add(entry)\n    }\n    // For the object-provided path, we must make sure it specifies all\n    // required keys.\n    else {\n      const invalidKeys = Object.keys(entry).filter(\n        (key) => key !== 'params' && key !== 'locale'\n      )\n\n      if (invalidKeys.length) {\n        throw new Error(\n          `Additional keys were returned from \\`getStaticPaths\\` in page \"${page}\". ` +\n            `URL Parameters intended for this dynamic route must be nested under the \\`params\\` key, i.e.:` +\n            `\\n\\n\\treturn { params: { ${_validParamKeys\n              .map((k) => `${k}: ...`)\n              .join(', ')} } }` +\n            `\\n\\nKeys that need to be moved: ${invalidKeys.join(', ')}.\\n`\n        )\n      }\n\n      const { params = {} } = entry\n      let builtPage = page\n      let encodedBuiltPage = page\n\n      _validParamKeys.forEach((validParamKey) => {\n        const { repeat, optional } = _routeRegex.groups[validParamKey]\n        let paramValue = params[validParamKey]\n        if (\n          optional &&\n          params.hasOwnProperty(validParamKey) &&\n          (paramValue === null ||\n            paramValue === undefined ||\n            (paramValue as any) === false)\n        ) {\n          paramValue = []\n        }\n        if (\n          (repeat && !Array.isArray(paramValue)) ||\n          (!repeat && typeof paramValue !== 'string')\n        ) {\n          throw new Error(\n            `A required parameter (${validParamKey}) was not provided as ${\n              repeat ? 'an array' : 'a string'\n            } in getStaticPaths for ${page}`\n          )\n        }\n        let replaced = `[${repeat ? '...' : ''}${validParamKey}]`\n        if (optional) {\n          replaced = `[${replaced}]`\n        }\n        builtPage = builtPage\n          .replace(\n            replaced,\n            repeat\n              ? (paramValue as string[])\n                  .map((segment) => escapePathDelimiters(segment, true))\n                  .join('/')\n              : escapePathDelimiters(paramValue as string, true)\n          )\n          .replace(/(?!^)\\/$/, '')\n\n        encodedBuiltPage = encodedBuiltPage\n          .replace(\n            replaced,\n            repeat\n              ? (paramValue as string[]).map(encodeURIComponent).join('/')\n              : encodeURIComponent(paramValue as string)\n          )\n          .replace(/(?!^)\\/$/, '')\n      })\n\n      if (entry.locale && !locales?.includes(entry.locale)) {\n        throw new Error(\n          `Invalid locale returned from getStaticPaths for ${page}, the locale ${entry.locale} is not specified in next.config.js`\n        )\n      }\n      const curLocale = entry.locale || defaultLocale || ''\n\n      prerenderPaths.add(\n        `${curLocale ? `/${curLocale}` : ''}${\n          curLocale && builtPage === '/' ? '' : builtPage\n        }`\n      )\n      encodedPrerenderPaths.add(\n        `${curLocale ? `/${curLocale}` : ''}${\n          curLocale && encodedBuiltPage === '/' ? '' : encodedBuiltPage\n        }`\n      )\n    }\n  })\n\n  return {\n    paths: [...prerenderPaths],\n    fallback: staticPathsResult.fallback,\n    encodedPaths: [...encodedPrerenderPaths],\n  }\n}\n\nexport async function isPageStatic(\n  page: string,\n  distDir: string,\n  serverless: boolean,\n  runtimeEnvConfig: any,\n  httpAgentOptions: NextConfigComplete['httpAgentOptions'],\n  locales?: string[],\n  defaultLocale?: string,\n  parentId?: any\n): Promise<{\n  isStatic?: boolean\n  isAmpOnly?: boolean\n  isHybridAmp?: boolean\n  hasServerProps?: boolean\n  hasStaticProps?: boolean\n  prerenderRoutes?: string[]\n  encodedPrerenderRoutes?: string[]\n  prerenderFallback?: boolean | 'blocking'\n  isNextImageImported?: boolean\n  traceIncludes?: string[]\n  traceExcludes?: string[]\n}> {\n  const isPageStaticSpan = trace('is-page-static-utils', parentId)\n  return isPageStaticSpan.traceAsyncFn(async () => {\n    try {\n      require('../shared/lib/runtime-config').setConfig(runtimeEnvConfig)\n      setHttpAgentOptions(httpAgentOptions)\n      const components = await loadComponents(distDir, page, serverless)\n      const mod = components.ComponentMod\n      const Comp = mod.default || mod\n\n      if (!Comp || !isValidElementType(Comp) || typeof Comp === 'string') {\n        throw new Error('INVALID_DEFAULT_EXPORT')\n      }\n\n      const hasGetInitialProps = !!(Comp as any).getInitialProps\n      const hasStaticProps = !!(await mod.getStaticProps)\n      const hasStaticPaths = !!(await mod.getStaticPaths)\n      const hasServerProps = !!(await mod.getServerSideProps)\n      const hasLegacyServerProps = !!(await mod.unstable_getServerProps)\n      const hasLegacyStaticProps = !!(await mod.unstable_getStaticProps)\n      const hasLegacyStaticPaths = !!(await mod.unstable_getStaticPaths)\n      const hasLegacyStaticParams = !!(await mod.unstable_getStaticParams)\n\n      if (hasLegacyStaticParams) {\n        throw new Error(\n          `unstable_getStaticParams was replaced with getStaticPaths. Please update your code.`\n        )\n      }\n\n      if (hasLegacyStaticPaths) {\n        throw new Error(\n          `unstable_getStaticPaths was replaced with getStaticPaths. Please update your code.`\n        )\n      }\n\n      if (hasLegacyStaticProps) {\n        throw new Error(\n          `unstable_getStaticProps was replaced with getStaticProps. Please update your code.`\n        )\n      }\n\n      if (hasLegacyServerProps) {\n        throw new Error(\n          `unstable_getServerProps was replaced with getServerSideProps. Please update your code.`\n        )\n      }\n\n      // A page cannot be prerendered _and_ define a data requirement. That's\n      // contradictory!\n      if (hasGetInitialProps && hasStaticProps) {\n        throw new Error(SSG_GET_INITIAL_PROPS_CONFLICT)\n      }\n\n      if (hasGetInitialProps && hasServerProps) {\n        throw new Error(SERVER_PROPS_GET_INIT_PROPS_CONFLICT)\n      }\n\n      if (hasStaticProps && hasServerProps) {\n        throw new Error(SERVER_PROPS_SSG_CONFLICT)\n      }\n\n      const pageIsDynamic = isDynamicRoute(page)\n      // A page cannot have static parameters if it is not a dynamic page.\n      if (hasStaticProps && hasStaticPaths && !pageIsDynamic) {\n        throw new Error(\n          `getStaticPaths can only be used with dynamic pages, not '${page}'.` +\n            `\\nLearn more: https://nextjs.org/docs/routing/dynamic-routes`\n        )\n      }\n\n      if (hasStaticProps && pageIsDynamic && !hasStaticPaths) {\n        throw new Error(\n          `getStaticPaths is required for dynamic SSG pages and is missing for '${page}'.` +\n            `\\nRead more: https://nextjs.org/docs/messages/invalid-getstaticpaths-value`\n        )\n      }\n\n      let prerenderRoutes: Array<string> | undefined\n      let encodedPrerenderRoutes: Array<string> | undefined\n      let prerenderFallback: boolean | 'blocking' | undefined\n      if (hasStaticProps && hasStaticPaths) {\n        ;({\n          paths: prerenderRoutes,\n          fallback: prerenderFallback,\n          encodedPaths: encodedPrerenderRoutes,\n        } = await buildStaticPaths(\n          page,\n          mod.getStaticPaths,\n          locales,\n          defaultLocale\n        ))\n      }\n\n      const isNextImageImported = (global as any).__NEXT_IMAGE_IMPORTED\n      const config: PageConfig = mod.config || {}\n      return {\n        isStatic: !hasStaticProps && !hasGetInitialProps && !hasServerProps,\n        isHybridAmp: config.amp === 'hybrid',\n        isAmpOnly: config.amp === true,\n        prerenderRoutes,\n        prerenderFallback,\n        encodedPrerenderRoutes,\n        hasStaticProps,\n        hasServerProps,\n        isNextImageImported,\n        traceIncludes: config.unstable_includeFiles || [],\n        traceExcludes: config.unstable_excludeFiles || [],\n      }\n    } catch (err) {\n      if (err.code === 'MODULE_NOT_FOUND') return {}\n      throw err\n    }\n  })\n}\n\nexport async function hasCustomGetInitialProps(\n  page: string,\n  distDir: string,\n  isLikeServerless: boolean,\n  runtimeEnvConfig: any,\n  checkingApp: boolean\n): Promise<boolean> {\n  require('../shared/lib/runtime-config').setConfig(runtimeEnvConfig)\n\n  const components = await loadComponents(distDir, page, isLikeServerless)\n  let mod = components.ComponentMod\n\n  if (checkingApp) {\n    mod = (await mod._app) || mod.default || mod\n  } else {\n    mod = mod.default || mod\n  }\n  mod = await mod\n  return mod.getInitialProps !== mod.origGetInitialProps\n}\n\nexport async function getNamedExports(\n  page: string,\n  distDir: string,\n  isLikeServerless: boolean,\n  runtimeEnvConfig: any\n): Promise<Array<string>> {\n  require('../shared/lib/runtime-config').setConfig(runtimeEnvConfig)\n  const components = await loadComponents(distDir, page, isLikeServerless)\n  let mod = components.ComponentMod\n\n  return Object.keys(mod)\n}\n\nexport function detectConflictingPaths(\n  combinedPages: string[],\n  ssgPages: Set<string>,\n  additionalSsgPaths: Map<string, string[]>\n) {\n  const conflictingPaths = new Map<\n    string,\n    Array<{\n      path: string\n      page: string\n    }>\n  >()\n\n  const dynamicSsgPages = [...ssgPages].filter((page) => isDynamicRoute(page))\n\n  additionalSsgPaths.forEach((paths, pathsPage) => {\n    paths.forEach((curPath) => {\n      const lowerPath = curPath.toLowerCase()\n      let conflictingPage = combinedPages.find(\n        (page) => page.toLowerCase() === lowerPath\n      )\n\n      if (conflictingPage) {\n        conflictingPaths.set(lowerPath, [\n          { path: curPath, page: pathsPage },\n          { path: conflictingPage, page: conflictingPage },\n        ])\n      } else {\n        let conflictingPath: string | undefined\n\n        conflictingPage = dynamicSsgPages.find((page) => {\n          if (page === pathsPage) return false\n\n          conflictingPath = additionalSsgPaths\n            .get(page)\n            ?.find((compPath) => compPath.toLowerCase() === lowerPath)\n          return conflictingPath\n        })\n\n        if (conflictingPage && conflictingPath) {\n          conflictingPaths.set(lowerPath, [\n            { path: curPath, page: pathsPage },\n            { path: conflictingPath, page: conflictingPage },\n          ])\n        }\n      }\n    })\n  })\n\n  if (conflictingPaths.size > 0) {\n    let conflictingPathsOutput = ''\n\n    conflictingPaths.forEach((pathItems) => {\n      pathItems.forEach((pathItem, idx) => {\n        const isDynamic = pathItem.page !== pathItem.path\n\n        if (idx > 0) {\n          conflictingPathsOutput += 'conflicts with '\n        }\n\n        conflictingPathsOutput += `path: \"${pathItem.path}\"${\n          isDynamic ? ` from page: \"${pathItem.page}\" ` : ' '\n        }`\n      })\n      conflictingPathsOutput += '\\n'\n    })\n\n    Log.error(\n      'Conflicting paths returned from getStaticPaths, paths must unique per page.\\n' +\n        'See more info here: https://nextjs.org/docs/messages/conflicting-ssg-paths\\n\\n' +\n        conflictingPathsOutput\n    )\n    process.exit(1)\n  }\n}\n\nexport function getCssFilePaths(buildManifest: BuildManifest): string[] {\n  const cssFiles = new Set<string>()\n  Object.values(buildManifest.pages).forEach((files) => {\n    files.forEach((file) => {\n      if (file.endsWith('.css')) {\n        cssFiles.add(file)\n      }\n    })\n  })\n\n  return [...cssFiles]\n}\n"],"names":["collectPages","printTreeView","printCustomRoutes","computeFromManifest","difference","getJsPageSizeInKb","buildStaticPaths","isPageStatic","hasCustomGetInitialProps","getNamedExports","detectConflictingPaths","getCssFilePaths","Log","fileGzipStats","fsStatGzip","file","cached","fileSize","stat","size","fileStats","fsStat","directory","pageExtensions","RegExp","join","list","pageInfos","serverless","distPath","buildId","pagesDir","buildManifest","useStatic404","gzipSize","getPrettySize","_size","green","yellow","red","bold","MIN_DURATION","getPrettyDuration","_duration","duration","getCleanName","fileName","replace","messages","map","entry","underline","hasCustomApp","set","get","static","includes","sizeData","pageList","slice","filter","e","sort","a","b","localeCompare","forEach","item","i","arr","pageInfo","symbol","length","ampFirst","ampFirstPages","totalDuration","pageDuration","ssgPageDurations","reduce","push","isSsg","initialRevalidateSeconds","cyan","totalSize","uniqueCssFiles","pages","endsWith","uniqueFiles","contSymbol","index","innerSymbol","sizeUniqueFiles","ssgPageRoutes","totalRoutes","routes","some","d","previewPages","Math","min","routesWithDuration","route","idx","remainingRoutes","remaining","avgDuration","round","total","sharedFilesSize","sizeCommonFiles","sharedFiles","sizeCommonFile","sharedFileKeys","Object","keys","sharedCssFiles","originalName","cleanName","console","log","align","stringLength","str","redirects","rewrites","headers","printRoutes","type","isRedirects","isHeaders","routesStr","routeStr","source","r","destination","statusCode","permanent","header","last","key","value","combinedRewrites","beforeFiles","afterFiles","fallback","cachedBuildManifest","lastCompute","lastComputePageInfo","manifest","is","expected","files","Map","isHybridAmp","Infinity","has","getSize","commonFiles","entries","len","f","stats","Promise","all","_","uniqueStats","obj","n","assign","main","sub","Set","x","intersect","sum","page","computedManifestData","data","fnFilterJs","pageFiles","appFiles","fnMapRealPath","dep","allFilesReal","selfFilesReal","allFilesSize","selfFilesSize","getStaticPaths","locales","defaultLocale","prerenderPaths","encodedPrerenderPaths","_routeRegex","_routeMatcher","_validParamKeys","staticPathsResult","expectedReturnVal","Array","isArray","Error","invalidStaticPathKeys","toPrerender","paths","localePathResult","cleanedEntry","detectedLocale","substr","result","add","split","segment","decodeURIComponent","invalidKeys","k","params","builtPage","encodedBuiltPage","validParamKey","repeat","optional","groups","paramValue","hasOwnProperty","undefined","replaced","encodeURIComponent","locale","curLocale","encodedPaths","distDir","runtimeEnvConfig","httpAgentOptions","parentId","isPageStaticSpan","traceAsyncFn","require","setConfig","components","mod","ComponentMod","Comp","default","hasGetInitialProps","getInitialProps","hasStaticProps","getStaticProps","hasStaticPaths","hasServerProps","getServerSideProps","hasLegacyServerProps","unstable_getServerProps","hasLegacyStaticProps","unstable_getStaticProps","hasLegacyStaticPaths","unstable_getStaticPaths","hasLegacyStaticParams","unstable_getStaticParams","pageIsDynamic","prerenderRoutes","encodedPrerenderRoutes","prerenderFallback","isNextImageImported","global","__NEXT_IMAGE_IMPORTED","config","isStatic","amp","isAmpOnly","traceIncludes","unstable_includeFiles","traceExcludes","unstable_excludeFiles","err","code","isLikeServerless","checkingApp","_app","origGetInitialProps","combinedPages","ssgPages","additionalSsgPaths","conflictingPaths","dynamicSsgPages","pathsPage","curPath","lowerPath","toLowerCase","conflictingPage","find","path","conflictingPath","compPath","conflictingPathsOutput","pathItems","pathItem","isDynamic","error","process","exit","cssFiles","values"],"mappings":"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"}