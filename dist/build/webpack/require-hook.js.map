{"version":3,"sources":["../../../build/webpack/require-hook.ts"],"sourcesContent":["// sync injects a hook for webpack and webpack/... requires to use the internal ncc webpack version\n// this is in order for userland plugins to attach to the same webpack instance as next.js\n// the individual compiled modules are as defined for the compilation in bundles/webpack/packages/*\n\nconst hookPropertyMap = new Map(\n  [\n    ['webpack', 'next/dist/compiled/webpack/webpack-lib'],\n    ['webpack/package', 'next/dist/compiled/webpack/package'],\n    ['webpack/package.json', 'next/dist/compiled/webpack/package'],\n    ['webpack/lib/webpack', 'next/dist/compiled/webpack/webpack-lib'],\n    ['webpack/lib/webpack.js', 'next/dist/compiled/webpack/webpack-lib'],\n    [\n      'webpack/lib/node/NodeEnvironmentPlugin',\n      'next/dist/compiled/webpack/NodeEnvironmentPlugin',\n    ],\n    [\n      'webpack/lib/node/NodeEnvironmentPlugin.js',\n      'next/dist/compiled/webpack/NodeEnvironmentPlugin',\n    ],\n    [\n      'webpack/lib/BasicEvaluatedExpression',\n      'next/dist/compiled/webpack/BasicEvaluatedExpression',\n    ],\n    [\n      'webpack/lib/BasicEvaluatedExpression.js',\n      'next/dist/compiled/webpack/BasicEvaluatedExpression',\n    ],\n    [\n      'webpack/lib/node/NodeTargetPlugin',\n      'next/dist/compiled/webpack/NodeTargetPlugin',\n    ],\n    [\n      'webpack/lib/node/NodeTargetPlugin.js',\n      'next/dist/compiled/webpack/NodeTargetPlugin',\n    ],\n    [\n      'webpack/lib/ModuleFilenameHelpers',\n      'next/dist/compiled/webpack/ModuleFilenameHelpers',\n    ],\n    [\n      'webpack/lib/ModuleFilenameHelpers.js',\n      'next/dist/compiled/webpack/ModuleFilenameHelpers',\n    ],\n    ['webpack/lib/GraphHelpers', 'next/dist/compiled/webpack/GraphHelpers'],\n    ['webpack/lib/GraphHelpers.js', 'next/dist/compiled/webpack/GraphHelpers'],\n    ['webpack/lib/NormalModule', 'next/dist/compiled/webpack/NormalModule'],\n    ['webpack-sources', 'next/dist/compiled/webpack/sources'],\n    ['webpack-sources/lib', 'next/dist/compiled/webpack/sources'],\n    ['webpack-sources/lib/index', 'next/dist/compiled/webpack/sources'],\n    ['webpack-sources/lib/index.js', 'next/dist/compiled/webpack/sources'],\n  ].map(([request, replacement]) => [request, require.resolve(replacement)])\n)\n\nconst mod = require('module')\nconst resolveFilename = mod._resolveFilename\nmod._resolveFilename = function (\n  request: string,\n  parent: any,\n  isMain: boolean,\n  options: any\n) {\n  const hookResolved = hookPropertyMap.get(request)\n  if (hookResolved) request = hookResolved\n  return resolveFilename.call(mod, request, parent, isMain, options)\n}\n"],"names":["hookPropertyMap","Map","map","request","replacement","require","resolve","mod","resolveFilename","_resolveFilename","parent","isMain","options","hookResolved","get","call"],"mappings":";AAAA,EAAmG,AAAnG,iGAAmG;AACnG,EAA0F,AAA1F,wFAA0F;AAC1F,EAAmG,AAAnG,iGAAmG;AAEnG,KAAK,CAACA,eAAe,GAAG,GAAG,CAACC,GAAG,CAC7B,CAAC;IACC,CAAC;QAAA,CAAS;QAAE,CAAwC;IAAA,CAAC;IACrD,CAAC;QAAA,CAAiB;QAAE,CAAoC;IAAA,CAAC;IACzD,CAAC;QAAA,CAAsB;QAAE,CAAoC;IAAA,CAAC;IAC9D,CAAC;QAAA,CAAqB;QAAE,CAAwC;IAAA,CAAC;IACjE,CAAC;QAAA,CAAwB;QAAE,CAAwC;IAAA,CAAC;IACpE,CAAC;QACC,CAAwC;QACxC,CAAkD;IACpD,CAAC;IACD,CAAC;QACC,CAA2C;QAC3C,CAAkD;IACpD,CAAC;IACD,CAAC;QACC,CAAsC;QACtC,CAAqD;IACvD,CAAC;IACD,CAAC;QACC,CAAyC;QACzC,CAAqD;IACvD,CAAC;IACD,CAAC;QACC,CAAmC;QACnC,CAA6C;IAC/C,CAAC;IACD,CAAC;QACC,CAAsC;QACtC,CAA6C;IAC/C,CAAC;IACD,CAAC;QACC,CAAmC;QACnC,CAAkD;IACpD,CAAC;IACD,CAAC;QACC,CAAsC;QACtC,CAAkD;IACpD,CAAC;IACD,CAAC;QAAA,CAA0B;QAAE,CAAyC;IAAA,CAAC;IACvE,CAAC;QAAA,CAA6B;QAAE,CAAyC;IAAA,CAAC;IAC1E,CAAC;QAAA,CAA0B;QAAE,CAAyC;IAAA,CAAC;IACvE,CAAC;QAAA,CAAiB;QAAE,CAAoC;IAAA,CAAC;IACzD,CAAC;QAAA,CAAqB;QAAE,CAAoC;IAAA,CAAC;IAC7D,CAAC;QAAA,CAA2B;QAAE,CAAoC;IAAA,CAAC;IACnE,CAAC;QAAA,CAA8B;QAAE,CAAoC;IAAA,CAAC;AACxE,CAAC,CAACC,GAAG,GAAGC,OAAO,EAAEC,WAAW,IAAM,CAACD;QAAAA,OAAO;QAAEE,OAAO,CAACC,OAAO,CAACF,WAAW;IAAC,CAAC;;AAG3E,KAAK,CAACG,GAAG,GAAGF,OAAO,CAAC,CAAQ;AAC5B,KAAK,CAACG,eAAe,GAAGD,GAAG,CAACE,gBAAgB;AAC5CF,GAAG,CAACE,gBAAgB,GAAG,QAAQ,CAC7BN,OAAe,EACfO,MAAW,EACXC,MAAe,EACfC,OAAY,EACZ,CAAC;IACD,KAAK,CAACC,YAAY,GAAGb,eAAe,CAACc,GAAG,CAACX,OAAO;IAChD,EAAE,EAAEU,YAAY,EAAEV,OAAO,GAAGU,YAAY;IACxC,MAAM,CAACL,eAAe,CAACO,IAAI,CAACR,GAAG,EAAEJ,OAAO,EAAEO,MAAM,EAAEC,MAAM,EAAEC,OAAO;AACnE,CAAC"}