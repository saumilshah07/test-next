{"version":3,"sources":["../../../../../../build/webpack/loaders/babel-loader/src/transform.js"],"sourcesContent":["import { transform as _transform } from 'next/dist/compiled/babel/core'\nimport { promisify } from 'util'\nimport LoaderError from './Error'\n\nconst transform = promisify(_transform)\n\nexport default async function (source, options) {\n  let result\n  try {\n    result = await transform(source, options)\n  } catch (err) {\n    throw err.message && err.codeFrame ? new LoaderError(err) : err\n  }\n\n  if (!result) return null\n\n  // We don't return the full result here because some entries are not\n  // really serializable. For a full list of properties see here:\n  // https://github.com/babel/babel/blob/main/packages/babel-core/src/transformation/index.js\n  // For discussion on this topic see here:\n  // https://github.com/babel/babel-loader/pull/629\n  const { ast, code, map, metadata, sourceType } = result\n\n  if (map && (!map.sourcesContent || !map.sourcesContent.length)) {\n    map.sourcesContent = [source]\n  }\n\n  return { ast, code, map, metadata, sourceType }\n}\n"],"names":["transform","source","options","result","err","message","codeFrame","ast","code","map","metadata","sourceType","sourcesContent","length"],"mappings":";;;;;AAAwC,GAA+B,CAA/B,KAA+B;AAC7C,GAAM,CAAN,KAAM;AACR,GAAS,CAAT,MAAS;;;;;;AAEjC,KAAK,CAACA,SAAS,OAHW,KAAM,YADQ,KAA+B;wBAMxCC,MAAM,EAAEC,OAAO,EAAE,CAAC;IAC/C,GAAG,CAACC,MAAM;IACV,GAAG,CAAC,CAAC;QACHA,MAAM,GAAG,KAAK,CAACH,SAAS,CAACC,MAAM,EAAEC,OAAO;IAC1C,CAAC,CAAC,KAAK,EAAEE,GAAG,EAAE,CAAC;QACb,KAAK,CAACA,GAAG,CAACC,OAAO,IAAID,GAAG,CAACE,SAAS,GAAG,GAAG,CATpB,MAAS,SASwBF,GAAG,IAAIA,GAAG;IACjE,CAAC;IAED,EAAE,GAAGD,MAAM,EAAE,MAAM,CAAC,IAAI;IAExB,EAAoE,AAApE,kEAAoE;IACpE,EAA+D,AAA/D,6DAA+D;IAC/D,EAA2F,AAA3F,yFAA2F;IAC3F,EAAyC,AAAzC,uCAAyC;IACzC,EAAiD,AAAjD,+CAAiD;IACjD,KAAK,CAAC,CAAC,CAACI,GAAG,GAAEC,IAAI,GAAEC,GAAG,GAAEC,QAAQ,GAAEC,UAAU,EAAC,CAAC,GAAGR,MAAM;IAEvD,EAAE,EAAEM,GAAG,MAAMA,GAAG,CAACG,cAAc,KAAKH,GAAG,CAACG,cAAc,CAACC,MAAM,GAAG,CAAC;QAC/DJ,GAAG,CAACG,cAAc,GAAG,CAACX;YAAAA,MAAM;QAAA,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,CAAC;QAACM,GAAG;QAAEC,IAAI;QAAEC,GAAG;QAAEC,QAAQ;QAAEC,UAAU;IAAC,CAAC;AACjD,CAAC"}