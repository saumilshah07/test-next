{"version":3,"sources":["../../../../../build/webpack/loaders/next-style-loader/index.js"],"sourcesContent":["import loaderUtils from 'next/dist/compiled/loader-utils'\nimport path from 'path'\nimport { validate } from 'next/dist/compiled/schema-utils3'\nimport isEqualLocals from './runtime/isEqualLocals'\n\nconst schema = {\n  type: 'object',\n  properties: {\n    injectType: {\n      description:\n        'Allows to setup how styles will be injected into DOM (https://github.com/webpack-contrib/style-loader#injecttype).',\n      enum: [\n        'styleTag',\n        'singletonStyleTag',\n        'lazyStyleTag',\n        'lazySingletonStyleTag',\n        'linkTag',\n      ],\n    },\n    attributes: {\n      description:\n        'Adds custom attributes to tag (https://github.com/webpack-contrib/style-loader#attributes).',\n      type: 'object',\n    },\n    insert: {\n      description:\n        'Inserts `<style>`/`<link>` at the given position (https://github.com/webpack-contrib/style-loader#insert).',\n      anyOf: [\n        {\n          type: 'string',\n        },\n        {\n          instanceof: 'Function',\n        },\n      ],\n    },\n    base: {\n      description:\n        'Sets module ID base for DLLPlugin (https://github.com/webpack-contrib/style-loader#base).',\n      type: 'number',\n    },\n    esModule: {\n      description:\n        'Use the ES modules syntax (https://github.com/webpack-contrib/css-loader#esmodule).',\n      type: 'boolean',\n    },\n  },\n  additionalProperties: false,\n}\n\nconst loaderApi = () => {}\n\nloaderApi.pitch = function loader(request) {\n  const options = loaderUtils.getOptions(this)\n\n  validate(schema, options, {\n    name: 'Style Loader',\n    baseDataPath: 'options',\n  })\n\n  const insert =\n    typeof options.insert === 'undefined'\n      ? '\"head\"'\n      : typeof options.insert === 'string'\n      ? JSON.stringify(options.insert)\n      : options.insert.toString()\n  const injectType = options.injectType || 'styleTag'\n  const esModule =\n    typeof options.esModule !== 'undefined' ? options.esModule : false\n\n  delete options.esModule\n\n  switch (injectType) {\n    case 'linkTag': {\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  module.hot.accept(\n    ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n    function() {\n     ${\n       esModule\n         ? 'update(content);'\n         : `content = require(${loaderUtils.stringifyRequest(\n             this,\n             `!!${request}`\n           )});\n\n           content = content.__esModule ? content.default : content;\n\n           update(content);`\n     }\n    }\n  );\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default {}' : ''}`\n    }\n\n    case 'lazyStyleTag':\n    case 'lazySingletonStyleTag': {\n      const isSingleton = injectType === 'lazySingletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    if (update) {\n      update();\n    }\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar refs = 0;\nvar update;\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar exported = {};\n\nexported.locals = content.locals || {};\nexported.use = function() {\n  if (!(refs++)) {\n    update = api(content, options);\n  }\n\n  return exported;\n};\nexported.unuse = function() {\n  if (refs > 0 && !--refs) {\n    update();\n    update = null;\n  }\n};\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} exported;`\n    }\n\n    case 'styleTag':\n    case 'singletonStyleTag':\n    default: {\n      const isSingleton = injectType === 'singletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} content.locals || {};`\n    }\n  }\n}\n\nmodule.exports = loaderApi\n"],"names":["schema","type","properties","injectType","description","enum","attributes","insert","anyOf","instanceof","base","esModule","additionalProperties","loaderApi","pitch","loader","request","options","getOptions","name","baseDataPath","JSON","stringify","toString","hmrCode","hot","stringifyRequest","join","__dirname","isSingleton","module","exports"],"mappings":"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"}