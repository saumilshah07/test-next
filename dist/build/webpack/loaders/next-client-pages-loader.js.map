{"version":3,"sources":["../../../../build/webpack/loaders/next-client-pages-loader.ts"],"sourcesContent":["import loaderUtils from 'next/dist/compiled/loader-utils'\n\nexport type ClientPagesLoaderOptions = {\n  absolutePagePath: string\n  page: string\n}\n\n// this parameter: https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\nfunction nextClientPagesLoader(this: any) {\n  const pagesLoaderSpan = this.currentTraceSpan.traceChild(\n    'next-client-pages-loader'\n  )\n\n  return pagesLoaderSpan.traceFn(() => {\n    const { absolutePagePath, page } = loaderUtils.getOptions(\n      this\n    ) as ClientPagesLoaderOptions\n\n    pagesLoaderSpan.setAttribute('absolutePagePath', absolutePagePath)\n\n    const stringifiedAbsolutePagePath = JSON.stringify(absolutePagePath)\n    const stringifiedPage = JSON.stringify(page)\n\n    return `\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      ${stringifiedPage},\n      function () {\n        return require(${stringifiedAbsolutePagePath});\n      }\n    ]);\n  `\n  })\n}\n\nexport default nextClientPagesLoader\n"],"names":["nextClientPagesLoader","pagesLoaderSpan","currentTraceSpan","traceChild","traceFn","absolutePagePath","page","getOptions","setAttribute","stringifiedAbsolutePagePath","JSON","stringify","stringifiedPage"],"mappings":";;;;;AAAwB,GAAiC,CAAjC,YAAiC;;;;;;AAOzD,EAA8F,AAA9F,4FAA8F;SACrFA,qBAAqB,GAAY,CAAC;IACzC,KAAK,CAACC,eAAe,GAAG,IAAI,CAACC,gBAAgB,CAACC,UAAU,CACtD,CAA0B;IAG5B,MAAM,CAACF,eAAe,CAACG,OAAO,KAAO,CAAC;QACpC,KAAK,CAAC,CAAC,CAACC,gBAAgB,GAAEC,IAAI,EAAC,CAAC,GAdZ,YAAiC,SAcNC,UAAU,CACvD,IAAI;QAGNN,eAAe,CAACO,YAAY,CAAC,CAAkB,mBAAEH,gBAAgB;QAEjE,KAAK,CAACI,2BAA2B,GAAGC,IAAI,CAACC,SAAS,CAACN,gBAAgB;QACnE,KAAK,CAACO,eAAe,GAAGF,IAAI,CAACC,SAAS,CAACL,IAAI;QAE3C,MAAM,EAAE,4DAEN,EAAEM,eAAe,CAAC,6CAED,EAAEH,2BAA2B,CAAC,qBAGnD;IACA,CAAC;AACH,CAAC;eAEcT,qBAAqB"}