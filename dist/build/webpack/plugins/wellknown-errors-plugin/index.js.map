{"version":3,"sources":["../../../../../build/webpack/plugins/wellknown-errors-plugin/index.ts"],"sourcesContent":["import { webpack } from 'next/dist/compiled/webpack/webpack'\nimport { getModuleBuildError } from './webpackModuleError'\n\nexport class WellKnownErrorsPlugin {\n  apply(compiler: webpack.Compiler) {\n    compiler.hooks.compilation.tap('WellKnownErrorsPlugin', (compilation) => {\n      compilation.hooks.afterSeal.tapPromise(\n        'WellKnownErrorsPlugin',\n        async () => {\n          if (compilation.errors?.length) {\n            compilation.errors = await Promise.all(\n              compilation.errors.map(async (err) => {\n                try {\n                  const moduleError = await getModuleBuildError(\n                    compilation,\n                    err\n                  )\n                  return moduleError === false ? err : moduleError\n                } catch (e) {\n                  console.log(e)\n                  return err\n                }\n              })\n            )\n          }\n        }\n      )\n    })\n  }\n}\n"],"names":["WellKnownErrorsPlugin","apply","compiler","hooks","compilation","tap","afterSeal","tapPromise","errors","length","Promise","all","map","err","moduleError","e","console","log"],"mappings":";;;;AACoC,GAAsB,CAAtB,mBAAsB;MAE7CA,qBAAqB;IAChCC,KAAK,CAACC,QAA0B,EAAE,CAAC;QACjCA,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,CAAuB,yBAAGD,WAAW,GAAK,CAAC;YACxEA,WAAW,CAACD,KAAK,CAACG,SAAS,CAACC,UAAU,CACpC,CAAuB,kCACX,CAAC;oBACPH,GAAkB;gBAAtB,EAAE,GAAEA,GAAkB,GAAlBA,WAAW,CAACI,MAAM,cAAlBJ,GAAkB,KAAlBA,IAAI,CAAJA,CAA0B,GAA1BA,IAAI,CAAJA,CAA0B,GAA1BA,GAAkB,CAAEK,MAAM,EAAE,CAAC;oBAC/BL,WAAW,CAACI,MAAM,GAAG,KAAK,CAACE,OAAO,CAACC,GAAG,CACpCP,WAAW,CAACI,MAAM,CAACI,GAAG,QAAQC,GAAG,GAAK,CAAC;wBACrC,GAAG,CAAC,CAAC;4BACH,KAAK,CAACC,WAAW,GAAG,KAAK,KAZP,mBAAsB,sBAatCV,WAAW,EACXS,GAAG;4BAEL,MAAM,CAACC,WAAW,KAAK,KAAK,GAAGD,GAAG,GAAGC,WAAW;wBAClD,CAAC,CAAC,KAAK,EAAEC,CAAC,EAAE,CAAC;4BACXC,OAAO,CAACC,GAAG,CAACF,CAAC;4BACb,MAAM,CAACF,GAAG;wBACZ,CAAC;oBACH,CAAC;gBAEL,CAAC;YACH,CAAC;QAEL,CAAC;IACH,CAAC;;QAzBUb,qBAAqB,GAArBA,qBAAqB"}